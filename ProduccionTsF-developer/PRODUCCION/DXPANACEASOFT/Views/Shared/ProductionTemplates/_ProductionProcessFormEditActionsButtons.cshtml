

<div style="width: 100%;">

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnNew";
		settings.ToolTip = "Nuevo";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.ActionsAdditem16x16office2013;
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "AddNewLot";
	}).GetHtml()

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnSave";
		settings.ToolTip = "Guardar";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.ActionsSave16x16devav;
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "SaveLot";
	}).GetHtml()

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnCopy";
		settings.ToolTip = "Copiar";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.EditCopy16x16office2013;
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "CopyLot";
	}).GetHtml()

	<div class="vertical-divider"></div>

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnApprove";
		settings.ToolTip = "Aprobar";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.ContentCheckbox16x16;
		//settings.Images.Image.Url = "~/Content/image/Action_Grant.png";
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "ApproveLot";
	}).GetHtml()

	@Html.DevExpress().Button(settings =>
{
	settings.Name = "btnTransfer";
	settings.ToolTip = "Transferir";
	settings.Text = "";
	settings.Images.Image.IconID = IconID.ActionsApply16x16;
	settings.ClientEnabled = true;
	settings.UseSubmitBehavior = false;
	settings.EnableClientSideAPI = true;
	settings.ClientSideEvents.Click = "TransferirLot";
}).GetHtml()

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnAutorize";
		settings.ToolTip = "Autorizar";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.ActionsApply16x16;
		//settings.Images.Image.Url = "~/Content/image/Action_Grant_Set.png";
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientVisible = false;
		settings.ClientSideEvents.Click = "AutorizeLot";
	}).GetHtml()

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnProtect";
		settings.ToolTip = "Cerrar";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.ProgrammingTag16x16;
		//settings.Images.Image.Url = "~/Content/image/BO_Security_Permission.png";
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "ProtectLot";
	}).GetHtml()

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnCancel";
		settings.ToolTip = "Anular";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.ActionsDeletelist16x16office2013;
		//settings.Images.Image.Url = "~/Content/image/Action_Deny.png";
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "CancelLot";
	}).GetHtml()

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnRevert";
		settings.ToolTip = "Reversar";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.HistoryUndo16x16office2013;
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "RevertLot";
	}).GetHtml()

	<div class="vertical-divider"></div>

	@Html.DevExpress().Button(settings =>
	{
		settings.Name = "btnHistory";
		settings.ToolTip = "Historia";
		//settings.Width = 90;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.HistoryHistoryitem16x16office2013;
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "ShowLotHistory";
	}).GetHtml()

	<div class="vertical-divider"></div>

	@Html.DevExpress().Button(settings =>
{
	settings.Name = "btnConciliation";
	settings.ToolTip = "Conciliación";
	settings.Text = "";
	settings.Images.Image.IconID = IconID.ActionsTask16x16devav;
	settings.ClientVisible = IsEnabled("Conciliar");
	settings.ClientEnabled = true;
	settings.UseSubmitBehavior = false;
	settings.EnableClientSideAPI = true;
	settings.ClientSideEvents.Click = "ConciliationLot";
}).GetHtml()

	<div class="vertical-divider"></div>

	@Html.DevExpress().Button(settings =>
	{

		settings.Name = "btnPrint";
		settings.ToolTip = "Imprimir";
		//settings.Width = 90;
		settings.ClientVisible = false;
		settings.Text = "";
		//settings.RenderMode = ButtonRenderMode.Link;
		settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
		settings.ClientEnabled = true;
		settings.UseSubmitBehavior = false;
		settings.EnableClientSideAPI = true;
		settings.ClientSideEvents.Click = "PrintLot";

	}).GetHtml()


	@{
		string isProductionProcess = (ViewBag.isProductionProcess != null && ViewBag.isProductionProcess == "S") ? "S" : "N";
		if (isProductionProcess == "S")
		{
			Html.DevExpress().Button(settings =>
			{
				settings.Name = "btnPrintIngresoBodega";
				settings.Text = "";
				settings.ToolTip = "Imprimir Ingreso Bodega";
				settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
				settings.ClientEnabled = true;
				settings.UseSubmitBehavior = false;
				settings.EnableClientSideAPI = true;
				settings.ClientSideEvents.Click = "printIngresoBodega";
			}).GetHtml();

			Html.DevExpress().Button(settings =>
			{
				settings.Name = "btnPrintEgresoBodega";
				settings.Text = "";
				settings.ToolTip = "Imprimir Egreso Bodega";
				settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
				settings.ClientEnabled = true;
				settings.UseSubmitBehavior = false;
				settings.EnableClientSideAPI = true;
				settings.ClientSideEvents.Click = "PrintLot";
			}).GetHtml();

			Html.DevExpress().Button(settings =>
			{
				settings.Name = "btnPrintLiquidacionProcesoInterno";
				settings.Text = "";
				settings.ToolTip = "Imprimir Liquidación";
				settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
				settings.ClientEnabled = true;
				settings.UseSubmitBehavior = false;
				settings.EnableClientSideAPI = true;
				settings.ClientSideEvents.Click = "printLiquidacionProcesoInterno";
			}).GetHtml();

			Html.DevExpress().Button(settings =>
			{
				settings.Name = "btnPrintProcesoInternoMerma";
				settings.Text = "";
				settings.ToolTip = "Imprimir Merma";
				settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
				settings.ClientEnabled = true;
				settings.UseSubmitBehavior = false;
				settings.EnableClientSideAPI = true;
				settings.ClientSideEvents.Click = "printProcesoInternoMerma";
			}).GetHtml();
		}

	}

	<div class="pagination">
		<a href="javascript:;" class="first" data-action="first">&laquo;</a>
		<a href="javascript:;" class="previous" data-action="previous">&lsaquo;</a>
		<input id="pagination" type="text" readonly="readonly" data-max-page="40" />
		<a href="javascript:;" class="next" data-action="next">&rsaquo;</a>
		<a href="javascript:;" class="last" data-action="last">&raquo;</a>
	</div>

</div>

<hr style="margin-top: 2px; margin-bottom: 2px;" />

@functions{

	bool IsEnabled(string namePermission)
	{
		int id_user = (int)ViewData["id_user"];
		int id_menu = (int)ViewData["id_menu"];

		User user = DataProviderUser.UserById(id_user);

		if (user == null)
			return false;

		UserMenu userMenu = user.UserMenu.FirstOrDefault(m => m.Menu.id == id_menu);

		if (userMenu == null)
			return false;

		Permission permission = userMenu.Permission.FirstOrDefault(p => p.name.Equals(namePermission));

		return (permission != null);
	}

}

