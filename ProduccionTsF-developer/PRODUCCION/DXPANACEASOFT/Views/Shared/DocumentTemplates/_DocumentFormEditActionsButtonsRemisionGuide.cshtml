@using DXPANACEASOFT.DataProviders
@using DXPANACEASOFT.Models


<div style="width: 100%;">

    @Html.DevExpress().Button(settings =>
{
    settings.Name = "btnNew";
    settings.ToolTip = "Nuevo";
    //settings.Width = 90;
    settings.Text = "";
    //settings.RenderMode = ButtonRenderMode.Link;
    settings.Images.Image.IconID = IconID.ActionsAdditem16x16office2013;
    settings.ClientEnabled = true;
    settings.ClientVisible = IsEnabeled(1);
    settings.UseSubmitBehavior = false;
    settings.EnableClientSideAPI = true;
    settings.ClientSideEvents.Click = "AddNewDocument";
}).GetHtml()

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnSave";
        settings.ToolTip = "Guardar";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ActionsSave16x16devav;
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "SaveDocument";
    }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnCopy";
        settings.ToolTip = "Copiar";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.EditCopy16x16office2013;
        settings.ClientEnabled = true;
        settings.ClientVisible = false;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "CopyDocument";
    }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnApprove";
        settings.ToolTip = "Aprobar";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ContentCheckbox16x16;
        //settings.Images.Image.Url = "~/Content/image/Action_Grant.png";
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "ApproveDocument";
    }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnAutorize";
        settings.ToolTip = "Autorizar";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID =  IconID.ActionsApply16x16;
        //settings.Images.Image.Url = "~/Content/image/Action_Grant_Set.png";
        settings.ClientEnabled = true;
        settings.ClientVisible = IsEnabeled(3);
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "AutorizeDocument";
    }).GetHtml()

    @Html.DevExpress().Button(settings =>
        {
            settings.Name = "btnCheckAutorizeRSI";
            settings.ToolTip = "Verificar Autorización SRI";
            //settings.Width = 90;
            settings.Text = "";
            //settings.RenderMode = ButtonRenderMode.Link;
            settings.Images.Image.IconID = IconID.ProgrammingTag16x16;
            //settings.Images.Image.Url = "~/Content/image/BO_Security_Permission.png";
            settings.ClientEnabled = true;
            settings.UseSubmitBehavior = false;
            settings.EnableClientSideAPI = true;
            settings.ClientSideEvents.Click = "CheckAutorizeRSIDocument";
        }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnProtect";
        settings.ToolTip = "Cerrar";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ProgrammingTag16x16;
        //settings.Images.Image.Url = "~/Content/image/BO_Security_Permission.png";
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "ProtectDocument";
    }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnCancel";
        settings.ToolTip = "Anular";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ActionsDeletelist16x16office2013;
        //settings.Images.Image.Url = "~/Content/image/Action_Deny.png";
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "CancelDocument";
    }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnRevert";
        settings.ToolTip = "Reversar";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.HistoryUndo16x16office2013;
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "RevertDocument";
    }).GetHtml()

    @*<div class="vertical-divider"></div>*@

    @Html.DevExpress().Button(settings =>
    {
        settings.Name = "btnreassignment";
        settings.ToolTip = "Reasignacion";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ActionsChangeview16x16devav;
        settings.ClientEnabled = true;
        settings.ClientVisible = false;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "ShowReasignacion";
    }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {

        settings.Name = "btnRide";
        settings.ToolTip = "Imprimir Ride";
        settings.Text = "";
        settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "PrintRide";

    }).GetHtml()

    @Html.DevExpress().Button(settings =>
{

	settings.Name = "btnPrint";
	settings.ToolTip = "Imprimir Directo";
	//settings.Width = 90;
	settings.Text = "";
	//settings.RenderMode = ButtonRenderMode.Link;
	settings.ClientVisible = false;
	settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
	settings.ClientEnabled = true;
	settings.UseSubmitBehavior = false;
	settings.EnableClientSideAPI = true;
	settings.ClientSideEvents.Click = "PrintDocument";

}).GetHtml()

    @Html.DevExpress().Button(settings =>
    {

        settings.Name = "btnPrintAlldoc";
        settings.ToolTip = "Imprimir Documentos Directo";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
        settings.ClientEnabled = true;
        settings.ClientVisible = false;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "PrintDocumentAll";

    }).GetHtml()
    @Html.DevExpress().Button(settings =>
    {

        settings.Name = "btnCancelRG";
        settings.ToolTip = "Cancelar Guía";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ActionsCancel16x16gray;
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "CancelRG";

    }).GetHtml()
    @Html.DevExpress().Button(settings =>
    {

        settings.Name = "btnPrintManual";
        settings.ToolTip = "Imprimir Manual";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "PrintDocumentManual";

    }).GetHtml()

    @Html.DevExpress().Button(settings =>
    {

        settings.Name = "btnPrintAlldocManual";
        settings.ToolTip = "Imprimir Documentos Manual";
        //settings.Width = 90;
        settings.Text = "";
        //settings.RenderMode = ButtonRenderMode.Link;
        settings.Images.Image.IconID = IconID.ActionsPrint16x16devav;
        settings.ClientEnabled = true;
        settings.UseSubmitBehavior = false;
        settings.EnableClientSideAPI = true;
        settings.ClientSideEvents.Click = "PrintDocumentAllManual";

    }).GetHtml()

    <div class="pagination">
        <a href="javascript:;" class="first" data-action="first">&laquo;</a>
        <a href="javascript:;" class="previous" data-action="previous">&lsaquo;</a>
        <input id="pagination" type="text" readonly="readonly" data-max-page="40" />
        <a href="javascript:;" class="next" data-action="next">&rsaquo;</a>
        <a href="javascript:;" class="last" data-action="last">&raquo;</a>
    </div>

</div>

<hr style="margin-top: 2px; margin-bottom: 2px;" />
@functions{

    bool IsEnabeled(int id_permission)
    {
        int id_user = (int)ViewData["id_user"];
        int id_menu = (int)ViewData["id_menu"];

        User user = DataProviderUser.UserById(id_user);

        if (user == null)
            return false;

        UserMenu userMenu = user.UserMenu.FirstOrDefault(m => m.Menu.id == id_menu);

        if (userMenu == null)
            return false;

        Permission permission = userMenu.Permission.FirstOrDefault(p => p.id == id_permission);

        return (permission != null);
    }

}

